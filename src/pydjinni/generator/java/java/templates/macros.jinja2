{%- macro return_type(type_ref) -%}
{{ data_type(type_ref) if type_ref else "void" }}
{%- endmacro -%}

{% macro parameters(method, with_types = True) %}
{%- for parameter in method.parameters -%}
    {{ (data_type(parameter.type_ref) ~ " ") if with_types }}{{ parameter.java.name ~ (", " if not loop.last) }}
{%- endfor -%}
{% endmacro %}

{% macro data_type(type_ref, boxed=False) %}
{{ type_ref.type_def.java.boxed if boxed or type_ref.optional else type_ref.type_def.java.typename }}
{%- if type_ref.parameters -%}
    <
    {%- for parameter in type_ref.parameters -%}
        {{ data_type(parameter, boxed=True) ~ (", " if not loop.last) }}
    {%- endfor -%}
    >
{%- endif -%}
{% endmacro %}
